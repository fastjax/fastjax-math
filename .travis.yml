# Copyright (c) 2018 LibJ
#
# Permission is hereby granted, free of charge, to any person obtaining a copy
# of this software and associated documentation files (the "Software"), to deal
# in the Software without restriction, including without limitation the rights
# to use, copy, modify, merge, publish, distribute, sublicense, and/or sell
# copies of the Software, and to permit persons to whom the Software is
# furnished to do so, subject to the following conditions:
#
# The above copyright notice and this permission notice shall be included in
# all copies or substantial portions of the Software.
#
# You should have received a copy of The MIT License (MIT) along with this
# program. If not, see <http://opensource.org/licenses/MIT/>.

language: java
jdk:
- oraclejdk8
- oraclejdk11
install:
- cp settings.xml $HOME/.m2/settings.xml && rm -rf ~/.m2/repository/org/libj
script:
- 'if [ "$TRAVIS_JDK_VERSION" = "oraclejdk8" ] &&
      [ "$TRAVIS_BRANCH" = "master" ] &&
      [ "$TRAVIS_PULL_REQUEST" = "false" ]; then
    sh -c "$SIGNING_KEY" | $GPG_EXECUTABLE --fast-import &> /dev/null &&
    mvn -e -U -DskipRTests -DrepoToken=$REPO_TOKEN clean deploy -P javadoc,report,deploy;
  else
    mvn -e -U -DskipRTests clean install;
  fi'
cache:
  directories:
    - ~/.m2/repository
env:
  global:
  - secure: G2EVaUzXwwXCNz7G4fuw4ZGRQGyOX6wOaul7oDTT3XM6uCWCUPFo4aVdE2kx2DknA66rvpG0BmelfHdc7Q2NfXrcqytBf3TmNkyUiNAxCk0uLC3Gxt5Hc/+dEwOuTkmTvCJbLi2it4nBPKUWLBk7kKTLyKMfqMbrPwzqxSbbjWjlUN/zaNOPDylYPbagL46unWp7EQqY8uTWNC83d/5lUa+1ITHSa/fbjfPFkCIIuAN9neHcEbg1laKIIgL6T1JwZd1m3NYKI0vDcMBvSrWfwDBVEyqGgILLIoli49R5CCqn+PyBuVcMC97HwFKs9Mk27VYL8trhXoSXWUeHICf1ezFTeqyxbZjIyFBx0cYVbmr4sy1jGKmbi09p3teYq69b/EZKlTh0uu4sYEhIpYf3Ow5K0VET31VVRIYBmvCSMjA79Ogur/CLIo9PscJadlKqbguQLLrCeV+JDDrEQhRnFAYNKN829lcsCZ4yXrB7p7EVLiLzp1tmo99PoiN3oOVnV8X5qqtOCZ4ZR0f5w9C5Pu25xSo3IRfGxBCEabeOOAm7vlW0OsO97hyGkE1NdjIl3Rg3Y5hwXdVOz+LqnDPp9oESdABihnbMECQQtsLrzVWR0ylcsxSMMU6NdHgXrg29sRFDqLQr0DV0NY9+2YdRzthoyYGgnsooEZt25R7MfV0=
  - secure: 1PWvusfAgLRl3vTepT3Y/cNWG2bBVG+Yiz6GYlOAD6J9EDk/SaVSvlpK2G/cwj6pw+4FXEUx7OVYT5m69fnr6qfwAwQpt7/0i2wJTGHrMje/GB+wUMxEPPV3ghnlgYY/jR3awJChadRNK9xQ0sZ6oomYG8ybaBOXkWn4E76VQwU1+9GsVtMb1wTjLyWU/tUKK9baJnLbei5UThiAHH9gswdLTloQiik+HrjfrVldluFeNxysVjyCxkudwn62/dceO0Xi3D57DBewc6hHcc1M9GTGxCPpS8aco8WXLTu2ozfzdkO0Cfy4uR0JSd/oO754xl3QqvIQHRO4gal9QM1N22GXW7E5PNHt+tud9wg+m8u7MLIZZp3ZomyI8qFUOlCzKI+3EBC/8D4dPOLpic8kJtLkgUetSSr5bxcCwoT0/e97b+vYt/IjA2mvY2XsXPc6+NlU466ZBgzckBehMOGzM64KLHdfKdnRWasR4qT2JbWaFkO2OWVcXPvkcoeBKjoeelX7Qe2XH3iw5wpXsvewmPWLJEZdF8UOgZdeAF9z9l0im4w+SDaj+BINcvZYItjXQUHyXKKOUjeT9wNzH3wc6R51XnSTzq8s7ueUGqjHL69zm60luwsTv+szlFY9TSjf73runxETYHZRjPXJZXaoR1+xKdc8McYMEp7YULFR0hM=
  - secure: zD26vTMI3PsOIf/YrelWtM1gJMA3BgvHQxb7+jkI7bMxKLaLJYCqyixmbZgoHACOT0gGYtGeSiG3ePtlLzr8YPYO+BYxMibznKNFXLOy5juYS1jKozB1TaJ7AiGMqPFDXtyywTutPb6POKRhKfxHjVK2kfTLDEeB07wccnVQh5iJJxNr8rD05ETe1NKsWwsKDF1MlZnYy1GzZuaMzF1KvAlYRgVSXYMkwLW5xAFI53D1CkJZxbR7fO3DHQDeBiK1zlURyLxCwfVQjh2FOAhieGxVS6c9FJShztfihELF2JV5aQssLykV/4KQ3GnZvVOPn3LrOm3kjqS+I48hywc+VkBaL8pvVWehUOT+lkLqrHPQV0dbmk/g1AWn4kJD97gYS+miCfOLw2elOt3/kmfNn1RKcr/mWsCdRrxqG2gLbU9WU3vU/EeNGiw/ZVoMTBMOQT1NF0+4Dcsf2qo/3zuNbHRhphNESHU+iPhFQ+cP+kbU9ryLkiPWVuCygWZqqAvnJCUaFghd5dixwucEfmhcQ7JIkhxXaQ97i1kXRnZiJ5WLBwy2yusihp+r1ot9eqOw737Bco0+efWUI1uvtODBWycERIiXGfBW9WYl8aTcyw4g89KwrrEVsGO17PBvV/84TtWjBQhnV62zcz1x0ljBUSf+81tyTGEHyvNUXPlWu+4=
  - secure: 025bRZ6Vzcm7UnH9EDgQMQIU7sTAngtayoYn0Ktb/AsV+s1WusoSDRTlFxRIb9bSmCZOqHz41WJ7akzc0QtY9yCyxD2mKGuaxCzifeZw5AVlXI04t8WREBFrHm3r+5NZmUHaeU5FM3jd5zL10VuUuRlobT3l1eDYcoxPM8qkfsMw0XEj9sRO6Kh0B3XCQmbewJhdKPNauGSddC1DmmwmNugOCBSWBlmzsAP8IEFcw7qiWc6KFEPRhvqnDde4XxbTdNLQ+tMXScr6Z8zEWPzCaBj60O5atHMMJYaOxDAsNm5kVwKR7S1Z+F8ojzHrKNImiHsgoIaxxn8mJNGf/JCIjGrkBKDR6D7k+6e/eHMVJ6M7p5e3lXcalVw5YCeSEptpacGscsrcRbjwjRUnfJPqfm2NuQd20pbVKDK+LF6A8xi7wvOve2B5HNq9rZpMLPiXhuzUEC//eV0TtKQzsd1laYzf285vQM7DZa8RaTdNG5HUzuDIFkM98AENKBPONxc9wXpXutLYfUtrsYi4/0MjEgMDM0WhviRSwKOsgqWEv5Ws7gXNayWrMKfaoy6maSmgmLFpDTC/x0lcButGYUo6ss3QRBqgTw5Z/ZvGnxkT1L+GvJjV4WdqvlgjSmwUKGqHJBdyQB7t3nxuy8SvlHRDfp8xZv7epPUNBfRpmwViFKk=
  - secure: K/hvI8a4Pn6U15uSbv1niBqZuHuvagQZ877JuwxbLmEvTH3UbBOE4vHqAFYpuYu5Zlllg1J17290eLIgYFMUCuznR97JO5nxVSW2AwP+ewlUqOOIr5eX3Gu7IyTzGGwTsXrtJQMe3qB5oCDqR90djpDYqZMrKza918bVtQwGI0JtdwJ6kU3DwV0MKUFSfd6LQvhF/nPS4dYwRtNpY8A3qVUqC012jqAUtCMNk+hr6lVRiEKgZKq1SRe3rmDfDqOlYDmMYFR1F50WW0JCVpXqlauKUOBQS1yiBn2vfURBXPK39zThnupo6eijzTVZf61OD2V1FFSVJ3C7OsDU4wPNvuir8EsCvkREGW+QvOJnSTxIqvvhsJqWC3lW20rOMLTp25RT/GpHSL2k8rb2DxO5Q5JbsICf2sB/TGNrfiA1Urg3vScgM7PtPD9L6R7fhX/ZtAbF4iJ3nzNFhiRQMIarHr7qYGRE0Ov7WWTv/U3ChAe0VY08c4R/QIUqcfmsl1LLe4ZElTp8Ajf3UwAQTEjL3BZFzZfItuVnc5OCaLUmffxWFfZbdHXg9zmQ+c0kwqbrBcFA7fUnYv8sntgIM6jxpysVzxThJFHf8at9UF97iED6VeGhDUAuiA5dYZFczt38Zs/wBLXtWsUtVGbY3Kwe/zIKO5Q4jE0Sl9yM1kVRO+g=
  - secure: IePhoXj711qrsTATvv9ucUe1oBHxsVdv8CnQf1DMkoGJg4m197oVsQ2M0EwBWkx/MeftZfU1vvFKZqkBjyBg/xKZsU7B+97znBhDqgOQLa++W4pfIdezV6zdddVKVIpCT9939GhmIet6eWV6IlBiHEXM+3emiJnyBLO9xHY5KRuKTaDY+0CEpDVrRoi7juGQbU2RAmeMyMt0hdK7+X58ybHVq+5xIJeacqDJKZ7FDTh+YDaMxx7/mWoWrO9VaebJeQu+qvGCPdmYiJaeuSXyehDDK4bwiY45FK9WrWCErttF+JrKRhr12pIi/Vh83VoKkiEchlJhPH12tCb3ylq9ESLwNb8H9H8pIrWZIwxQ2c00zyhDMK7Dsrk6v57k3G6LwzlGCPua6SchtiJ6xN8TH6iqzc3FNNttSI8/OHUfgMfpOZwwnciF7fMr306MA9r7M8SAZF+Gv//EHbdXWgY9TbeBG9e78jRwlsdeGJ3+99cnGZS29r34e/w9lqAk7Npi2MJzVTG9zgRfzg+RGRPqVkTRJ38bV0xZTMrKGcqI1LgKIv3Ax38HCf5Ropopw9c9mmEgq3kUXC8EGCpGrWP0tDjw6ruppFXX1u4gXh56OJZdCnRezDZ9XXcaJ5Y1q2NrmwXAOXPez7q5MdTlFVm/V1Df3ozuDwjtUn0Hv6gquHI=
  - secure: TFNX5z+4A5WGmrHmtYV6OStLf8fAb89eLxqATS3nIBSM4qhozOQ5K/uTip537qAHj29E/ioYcY9+VDdYH09uCWi09X9C//XrzvmxU282RAE1UW7/j9dXhmH+wfalx+lvbVZqhwxSswdCpfv7xaSMMzSsLq18Evswd+6BmXvTvLBtVqRPcr3ej5DG61EBlSHfeKJLO0B+xjeq44SwLCM1loL07C7RgJqkgu0nOXAusdOcYSvFhlCrm0eloBwSwEDZOBdEJa26U+45KudrPs0jNAJUVTtjqpH2JTlGhncPzud5bKfV1a+qBkWbXbud38dKZy4ALwj2FdGpPbn1TZHd9HAdyndg3hGGNvTtUrWWY0Mu/FEX3X0LHyV3xVrapdOVWJjGKbLF5iVD3UNmfpiVSQX6pXS22hNf3j7K2FPhpD80mu10Qbn4yLcMS0p6QyN34MTgmTlqJ8foZLOPKD+Cv919qCxpt7C8kKOcEYxofCoTL9Yoio4kUVUr1b65xM13UTqEtUGaOXDUkvHA6pzxGwczHHlxAAE99FpRZsp1gmDED/iJhkz8S9MOJBuuKNpXe78Z8D+WZrd4rlFbaGKta0fZ8+gTMmTCFPcmrR86O42YJXmWguT3qh9XVPpLlCGlnc6wil+DDovWgV4v1A8LxxT4qVJFcxzDEdvCXND2V20=
